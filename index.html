<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Entry Level</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header with floating menu icon and menu -->
  <header>
    <div class="top-right-icon" id="menu-button" title="App Menu" aria-label="Open App Menu" tabindex="0">â˜°</div>
    <nav class="floating-menu hidden" id="floating-menu" aria-label="App Menu">
      <ul>
        <li><button type="button" aria-label="About">About</button></li>
        <li><button type="button" id="open-settings" aria-label="Open Settings">Settings</button></li>
        <li><button type="button" id="import-export-menu" aria-label="Import/Export">Import/Export</button></li>
        <li><button type="button" aria-label="Debug Tools">Debug Tools</button></li>
        <li><button type="button" id="open-exit" aria-label="Exit Application">Exit</button></li>
      </ul>
    </nav>
  </header>

  <!-- Main app content -->
  <main>
    <div class="app-shell">
      <div class="content-container">

        <!-- Main Menu -->
        <div id="main-menu" class="screen">
          <h1>Entry Level App</h1>
          <div class="button-group">
            <button class="big-button" data-screen="new-record-screen" aria-label="Create New Record">Create New Record</button>
            <button class="big-button" data-screen="select-record-screen" aria-label="Create New Entry">Create New Entry</button>
            <button class="big-button" data-screen="view-records-screen" aria-label="View Records">View Records</button>
          </div>
        </div>


        <!-- Create New Record Path -->
        <div id="new-record-screen" class="screen hidden">
          <h2>Create New Record</h2>
          <div class="button-group">
            <button class="big-button" data-screen="select-template-screen" aria-label="Use Existing Template">Use Existing Template</button>
            <button class="big-button" data-screen="create-template-screen" aria-label="Create New Template">Create New Template</button>
            <button id="import-record-button" class="big-button" aria-label="Import from File">Import from File</button>
            <button class="big-button back-button" data-screen="main-menu" aria-label="Back to Main Menu">Back</button>
          </div>
        </div>

        <!-- View Records Screen -->
        <div id="view-records-screen" class="screen hidden">
          <h2>View Records</h2>
          <div class="button-group">
            <button class="big-button" data-screen="all-records-screen" aria-label="View all records">All Records</button>
            <button id="filter-records-button" class="big-button" data-screen="record-preview-screen" aria-label="Filter records">Filter Records</button>
            <button class="big-button back-button" data-screen="main-menu" aria-label="Back to Main Menu">Back</button>
          </div>
        </div>

        <!-- Record Preview Screen -->
        <div id="record-preview-screen" class="screen hidden">
          <h2 id="record-preview-title">View Records</h2>
          <div id="record-preview-content">
            <!-- Record details will be populated here -->
          </div>
          <button id="previous-previews" class="big-button hidden" data-screen="record-preview-screen">Previous</button>
          <button id="next-previews" class="big-button hidden" data-screen="record-preview-screen">Next</button>
          <button class="big-button back-button" data-screen="view-records-screen" aria-label="Back to view Records" id="back-from-preview">Back</button>
          <button id="select-record-filters" class="big-button" data-screen="filter-records-screen" aria-label="apply filters" id=>Apply filter</button>
        </div>

        <!-- Filter Records Screen -->
        <div id="filter-records-screen" class="screen hidden">
          <h2>Filter Records</h2>
        
          <div class="form-row">
            <label for="filter-type">Filter by:</label>
            <select id="filter-type" >
              <option value="name">Template Name</option>
              <option value="field">Field Name</option>
            </select>
          </div>
        
          <div class="form-row">
            <label for="filter-value">Enter value:</label>
            <input type="text" id="filter-value" placeholder="Enter a record name or field type" />
          </div>
        
          <div class="form-row button-group">
            <button class="big-button back-button" data-screen="view-records-screen" aria-label="Back to View Records">Back</button>
            <button id="apply-filter" class="big-button" data-screen="record-preview-screen" aria-label="apply filters">Apply Filter</button>
            <button id="clear-filter" class="big-button" data-screen="record-preview-screen" aria-label="clear filters">Clear Filter</button>
          </div>
        </div>
        
        <!--All Records Screen (OUTDATED; REPLACE BY RECORD PREVIEW SCREEN)-->
        <div id="all-records-screen" class="screen hidden">
          <h2>Select a Record</h2>
          <label for="record-select">Select a Record:</label>
          <div class="dropdown-select-wrapper">
            <select id="record-select" aria-label="Record Select">
              <option value="">-- Choose a Record --</option>
            </select>
          </div>
          <button id="view-record-button" class="big-button" disabled aria-label="View Selected Record">View Record</button>
          <button class="big-button back-button" data-screen="view-records-screen" aria-label="Back to View Records">Back</button>
        </div>

        <!-- Record Display Screen -->
        <div id="record-display-screen" class="screen hidden">
          <h2 id="record-display-title">Record Details</h2>
          <div id="record-display-content">
            <!-- Record details will be populated here -->
          </div>
          
          <button id="previous-entries" class="big-button hidden" data-screen="record-display-screen">Previous</button>
          <button id="next-entries" class="big-button hidden" data-screen="record-display-screen">Next</button>
          <button class="big-button back-button" data-screen="record-preview-screen" aria-label="Back to All Records" id="back-from-entries">Back</button>

        </div>

        <div id="record-search-screen" class="screen hidden">
          <h2>Search Records</h2>
          <p>[Placeholder for search functionality]</p>
          <button class="big-button back-button" data-screen="view-records-screen" aria-label="Back to View Records">Back</button>
        </div>

        <div id="record-categories-screen" class="screen hidden">
          <h2>Browse by Categories</h2>
          <p>[Placeholder for category browsing]</p>
          <button class="big-button back-button" data-screen="view-records-screen" aria-label="Back to View Records">Back</button>
        </div>


        <!-- Template Selection -->
        <div id="select-template-screen" class="screen hidden">
          <h2>Select a Template</h2>

          <label for="template-dropdown">Select a Template:</label>
          <div class="dropdown-select-wrapper">
            <select id="template-dropdown" class="dropdown-select" aria-label="Template Dropdown"></select>
          </div>

          <!-- Load button centered -->
          <div class="button-group" style="margin-top: 20px;">
            <button id="select-template-confirm" class="big-button" disabled aria-label="Continue with Selected Template">Load</button>
          </div>

          <!-- Delete/Edit buttons side by side -->
          <div class="template-button-group">
            <button id="edit-template-button" class="modal-button equal-width" disabled aria-label="Edit Selected Template">Edit</button>
            <button id="delete-template-button" class="modal-button equal-width" disabled aria-label="Delete Selected Template">Delete</button>
          </div>

          <!-- Back button centered -->
          <div class="button-group" style="margin-top: 20px;">
            <button class="modal-button back-button" data-screen="new-record-screen" aria-label="Back to New Record">Back</button>
          </div>
        </div>

        <!-- Record Selection Screen-->
        <div id="select-record-screen" class="screen hidden">
          <h2>Select a Record</h2>
          <label for="record-dropdown">Select a Record:</label>
          <div class="dropdown-select-wrapper">
            <select id="record-dropdown" class="dropdown-select" aria-label="Record Dropdown"></select>
          </div>
          <div class="button-group" style="margin-top: 20px;">
            <button id="select-record-confirm" class="modal-button" disabled aria-label="Continue with Selected Record">Continue</button>
            <button class="modal-button back-button" data-screen="main-menu" aria-label="Back to Main Menu">Back</button>
          </div>
        </div>

        <!-- Create Template -->
        <div id="create-template-screen" class="screen hidden">
          <h2>Create Template</h2>
          <label for="template-name-input">Template Name:</label>
          <input type="text" id="template-name-input" aria-label="Template Name">

          <h3>Add Field</h3>
          <div class="field-creator">
            <label for="field-name-input">Field Name:</label>
            <input type="text" id="field-name-input" placeholder="Field Name" aria-label="Field Name">
            <label for="field-type-select">Field Type:</label>
            <select id="field-type-select" aria-label="Field Type">
              <option value="text">Text</option>
              <option value="number">Number</option>
              <option value="date">Date</option>
              <option value="boolean">Checkbox</option>
              <option value="money">Money</option>
              <option value="decimal">Decimal</option>
            </select>
            <button id="add-field-button" aria-label="Add Field">Add Field</button>
          </div>

          <h3>Fields Preview</h3>
          <ul id="template-fields-list"></ul>

          <button id="save-template-button" class="modal-button" aria-label="Save Template">Save Template</button>
          <button id="cancel-edit-button" class="modal-button hidden">Cancel Editing</button>
          <button class="modal-button back-button" data-screen="new-record-screen" aria-label="Back to New Record">Back</button>
        </div>


        <!-- Entry Form Screen -->
        <div id="entry-form-screen" class="screen hidden">
          <h2>Fill Out Entry</h2>
          <div id="form-container"></div>
          <button id="add-entry" class="modal-button" aria-label="Add Entry">Add Entry</button>
          <div id="entries-display"></div>
          <button id="save-entry" class="modal-button" aria-label="Save Record">Save Record</button>
          <button class="modal-button back-button" data-screen="main-menu" aria-label="Back to Main Menu">Back</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Settings Modal -->
  <div id="settings-overlay" class="modal-overlay hidden">
    <div class="modal-content">
      <h2>Settings</h2>
      <button id="toggle-dark-mode" class="modal-button" aria-label="Toggle Dark Mode">Toggle Dark Mode</button>
      <button id="close-settings" class="modal-button" aria-label="Close Settings">Close (Esc)</button>
    </div>
  </div>

  <!-- Import/Export Modal -->
  <div id="import-export-overlay" class="modal-overlay hidden">
    <div class="modal-content">
      <h2>Import/Export Records</h2>
      <div class="button-group">
        <button id="import-record-modal-button" class="modal-button" aria-label="Import Record">Import Record</button>
        <button id="export-record-button" class="modal-button" aria-label="Export Record">Export Record</button>
        <button id="close-import-export" class="modal-button" aria-label="Close Import/Export">Close (Esc)</button>
      </div>
    </div>
  </div>

  <!-- Export Format Modal -->
  <div id="export-format-overlay" class="modal-overlay hidden">
    <div class="modal-content">
      <h2>Export Record</h2>
      <p>Choose export format:</p>
      <div class="button-group">
        <button id="export-as-json" class="modal-button" aria-label="Export as JSON">Export as JSON</button>
        <button id="export-as-csv" class="modal-button" aria-label="Export as CSV">Export as CSV</button>
        <button id="cancel-export" class="modal-button" aria-label="Cancel Export">Cancel (Esc)</button>
      </div>
    </div>
  </div>

  <!-- Exit Modal -->
  <div id="exit-overlay" class="modal-overlay hidden">
    <div class="modal-content">
      <h2>Exit Application?</h2>
      <p>Are you sure you want to quit?</p>
      <div class="button-group">
        <button id="confirm-exit" class="modal-button" aria-label="Confirm Exit">Yes, Exit (Enter)</button>
        <button id="cancel-exit" class="modal-button" aria-label="Cancel Exit">Cancel (Esc)</button>
      </div>
    </div>
  </div>

  <!-- Entry Viewer Modal -->
  <div id="entry-viewer-overlay" class="modal-overlay hidden">
    <div class="modal-content entry-modal-content">
      <h2 id="entry-viewer-title">Entry Details</h2>
      <div id="entry-viewer-content">
        <!-- Entry content will be populated here -->
      </div>
      <div class="entry-viewer-actions">
        <button id="delete-entry-button" class="modal-button delete-button" aria-label="Delete Entry">Delete Entry</button>
        <button id="close-entry-viewer" class="modal-button" aria-label="Close Entry Viewer">Close (Esc)</button>
      </div>
    </div>
  </div>

  <div id="status-message" class="status-toast hidden"></div>

  <script src="renderer.js"></script>
</body>
</html>
